<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>奥克斯人生</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- Add your keywords and description here for SEO. -->
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png"/>

    <!-- Uncomment this if you need apple touch icon. -->
    <!--
    <link rel="apple-touch-icon" href="touch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad-retina.png">
    -->

    <!-- Don't delete this. It's needed for development workflow. -->
    <link rel="stylesheet" href="stylesheets/bundle.css">
</head>

<body>
<div class="loading-overlay">
    <img src="images/loading.svg">
</div>

<div class="swiper-container">
    <div class="swiper-wrapper">
        <div class="swiper-slide slide-1">
           <div class="item-1 item-image"></div>
           <span id="1111" style="color: white"></span>
        </div>
        <div class="swiper-slide slide-2">
           <div class="item-1 item-image"></div>
           <div class="item-2 item-image"></div>
           <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.5s">
               <span class="item-year">1949</span>
               <span class="item-month">10</span>
               <span class="item-day">01</span>
           </div>
        </div>
        <div class="swiper-slide slide-4">
            <div id="number-four">
                <div class="item-1 item-image"></div>
                <div class="item-span animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.5s">
                    <span class="item-text-howlong-1">2</span>
                    <span class="item-text-howlong-2">4</span>
                    <span class="item-text-howlong-3">6</span>
                    <span class="item-text-howlong-4">8</span>
                </div>
            </div>
            <div id="number-five" style="display: none;">
                <div class="item-1-5 item-image"></div>
                <div class="item-span animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.3s">
                    <span class="item-text-howlong-5-1">2</span>
                    <span class="item-text-howlong-5-2">4</span>
                    <span class="item-text-howlong-5-3">6</span>
                    <span class="item-text-howlong-5-4">8</span>
                    <span class="item-text-howlong-5-5">0</span>
                </div>
            </div>
            <div class="item-2 item-image animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.8s">
                <span class="item-text-beat">80%</span>
            </div>
        </div>
        <div class="swiper-slide slide-5">
            <div class="item-1 item-image"></div>
            <div class="item-2 item-image"></div>
            <span class="item-birthplace animated" data-ani-name="shake" data-ani-duration="1s" data-ani-delay="0.1">浙江省宁波市</span>
            <span class="item-villagers animated" data-ani-name="bounceIn" data-ani-duration="1s" data-ani-delay="0.5s">1234</span>
        </div>
        <div class="swiper-slide slide-6">
            <div class="item-1 item-image animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.2s"></div>
            <div class="item-2 item-image animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.8s"></div>
            <div class="item-3 item-image animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="1.0s"></div>
        </div>
        <div class="swiper-slide slide-7">
            <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.2s">
                <div class="item-1 item-image"></div>
                <div class="item-2 item-image"></div>
                <div class="item-3 item-image"></div>
            </div>
        </div>
        <div class="swiper-slide slide-8">
            <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.2s">
                <div class="item-1 item-image"></div>
                <div class="item-2 item-image"></div>
                <div class="item-3 item-image"></div>
                <div class="item-4 item-image"></div>
            </div>
        </div>
        <div class="swiper-slide slide-9">
            <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.2s">
                <div class="item-1 item-image"></div>
                <div class="item-2 item-image"></div>
                <div class="item-3 item-image"></div>
                <div class="item-4 item-image"></div>
            </div>
        </div>
        <div class="swiper-slide slide-10">
        <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="1.2s">
            <div class="item-1 item-image"></div>
            <div class="item-2 item-image"></div>
            <div class="item-3 item-image"></div>
        </div>
        <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.2s">
            <div class="item-4 item-image"></div>
            <div class="item-5 item-image"></div>
            <div class="item-6 item-image"></div>
        </div>
        </div>
        <div class="swiper-slide slide-11">
            <div class="animated" data-ani-name="fadeIn" data-ani-duration="1s" data-ani-delay="0.2s">
                <div class="item-1 item-image"></div>
                <div class="item-2 item-image"></div>
                <div class="item-3 item-image"></div>
            </div>
            <div class="item-4 item-image animated" data-ani-name="bounceIn" data-ani-duration="1s" data-ani-delay="2s"></div>
            <div class="item-5 item-image animated" data-ani-name="rotateIn" data-ani-duration="2s" data-ani-delay="0.8s"></div>
        </div>
    </div>
</div>

<!-- <button class="up-arrow">
    <i class="icon-angle-double-up"></i>
</button> -->

<button class="btn-music">
    <i class="icon-note"></i>
</button>

<audio loop autoplay="autoplay">
    <source src="audios/background.mp3" type="audio/mpeg">
</audio>

<script src="javascripts/bundle.js"></script>

<script type="text/javascript">

// var s = ""; 
// s += " 网页可见区域宽："+ document.body.clientWidth+"<br />"; 
// s += " 网页可见区域高："+ document.body.clientHeight+"<br />"; 

// $("#1111").text(s);

$(function(){
  // var vh = $('.swiper-slide').width() * 1.775;
  //   $('.swiper-slide').css('height',vh);
var name = "wuwenli";//decodeURIComponent(getParams("name"));

if(name != "null"){
    $(".item-howlong").css("display","none");
    $.get("http://localhost:9999/party/life/employee/"+name).then(function(response) {
        var startDate=response.startDate;
        var workdays=response.workdays;
        var birthplace=response.birthplace;
        var beat=response.beat;
        var villagers=response.villagers;

        var arr=startDate.split("-");
        var year=arr[0];
        var month=arr[1];
        var day=arr[2]; 
        $(".item-year").html(year);
        $(".item-month").html(month);
        $(".item-day").html(day);
        $(".item-birthplace").html(birthplace);
        $(".item-villagers").html(villagers);

        if(workdays.length <= 4){        
        for (var i = 1; i <= 4 ; i++) {
                $(".item-text-howlong-"+i).html(workdays[i-1]);
            }
        }
        else{
            $("#number-four").css("display","none");
            $("#number-five").css("display","inline");
            for (var i = 1; i <= 5 ; i++) {
                $(".item-text-howlong-5-"+i).html(workdays[i-1]);
            }
        }
        $(".item-text-beat").html(beat+"%");
     },function(response){
        console.log(response);
     })
    }
})

function getParams(name){
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if(r!=null){
            return r[2];
        }
        return null;
    }
</script>

</body>

</html>
